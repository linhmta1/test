<div id="boxchat" style=""></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script>    const secret = "dPHxL0n3c9EYUEEe";    //const secret = "648214918886d99c";
    // Corrected: Use curly braces {} for object literals
    const params = {
        boxid: 951283,
        boxtag: 'kkbw74',
        nme: 'Hoàng Tùng', // Replace with actual user name variable
        lnk: '',         // Replace with profile URL (optional)
        pic: ''          // Replace with avatar URL (optional)
    };
    
    const arr = [];
    
    // Corrected: for...of loop to iterate over object properties
    for (const [key, value] of Object.entries(params)) {
        if (value) {
            arr.push(`${key}=${encodeURIComponent(value)}`); 
        }
    }
    
    const path = '/box/?' + arr.join('&');
    
    // Cryptographic Hashing (Requires CryptoJS)
    const hash = CryptoJS.HmacSHA256(path, secret);
    const sig = encodeURIComponent(CryptoJS.enc.Base64.stringify(hash));
    
    const url = 'https://www5.cbox.ws' + path + '&sig=' + sig;
    
    // Create the iframe
    //const iframe = document.createElement('iframe');
    //iframe.width = '100%';
    //iframe.height = '350';
    //iframe.src = url;
    //iframe.marginHeight = '0';
    //iframe.marginWidth = '0';
    //iframe.scrolling = 'no';
    //iframe.allowTransparency = 'yes';
    //iframe.frameBorder = '0';
    
    // Append the iframe to your desired container (e.g., <div id="cboxContainer"></div>)
    //document.getElementById('boxchat').appendChild(iframe); 
</script>
<iframe src="https://www5.cbox.ws/box/?boxid=951283&boxtag=kkbw74&tid=32&tkey=0ab36e1763a009c1" width="100%" height="350" allowtransparency="yes" allow="autoplay" frameborder="0" marginheight="0" marginwidth="0" scrolling="auto"></iframe>
